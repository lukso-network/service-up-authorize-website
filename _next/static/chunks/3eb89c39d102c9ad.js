(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,329096,828804,e=>{"use strict";var t=e.i(468368),r=e.i(95767),s=e.i(871706),n=e.i(984534),o=e.i(522662);let c=new Map;async function a(e){let{getSocket:t,keepAlive:a=!0,key:i="socket",reconnect:l=!0,url:u}=e,{interval:d=3e4}="object"==typeof a?a:{},{attempts:p=5,delay:f=2e3}="object"==typeof l?l:{},b=JSON.stringify({keepAlive:a,key:i,url:u,reconnect:l}),h=c.get(b);if(h)return h;let m=0,{schedule:v}=(0,s.createBatchScheduler)({id:b,fn:async()=>{let e,s,i,v=new Map,y=new Map,S=!1;function w(){l&&m<p?S||(S=!0,m++,s?.close(),setTimeout(async()=>{await E().catch(console.error),S=!1},f)):(v.clear(),y.clear())}async function E(){let n=await t({onClose(){for(let e of v.values())e.onError?.(new r.SocketClosedError({url:u}));for(let e of y.values())e.onError?.(new r.SocketClosedError({url:u}));w()},onError(t){for(let r of(e=t,v.values()))r.onError?.(e);for(let t of y.values())t.onError?.(e);w()},onOpen(){e=void 0,m=0},onResponse(e){let t="eth_subscription"===e.method,r=t?e.params.subscription:e.id,s=t?y:v,n=s.get(r);n&&n.onResponse(e),t||s.delete(r)}});if(s=n,a&&(i&&clearInterval(i),i=setInterval(()=>s.ping?.(),d)),l&&y.size>0)for(let[e,{onResponse:t,body:r,onError:s}]of y.entries())r&&(y.delete(e),h?.request({body:r,onResponse:t,onError:s}));return n}return await E(),e=void 0,h={close(){i&&clearInterval(i),s.close(),c.delete(b)},get socket(){return s},request({body:t,onError:r,onResponse:n}){e&&r&&r(e);let c=t.id??o.idCache.take(),a=e=>{("number"!=typeof e.id||c===e.id)&&("eth_subscribe"===t.method&&"string"==typeof e.result&&y.set(e.result,{onResponse:a,onError:r,body:t}),n(e))};"eth_unsubscribe"===t.method&&y.delete(t.params?.[0]),v.set(c,{onResponse:a,onError:r});try{s.request({body:{jsonrpc:"2.0",id:c,...t}})}catch(e){r?.(e)}},requestAsync({body:e,timeout:t=1e4}){return(0,n.withTimeout)(()=>new Promise((t,r)=>this.request({body:e,onError:r,onResponse:t})),{errorInstance:new r.TimeoutError({body:e,url:u}),timeout:t})},requests:v,subscriptions:y,url:u},c.set(b,h),[h]}}),[y,[S]]=await v();return S}async function i(t,s={}){let{keepAlive:n,reconnect:o}=s;return a({async getSocket({onClose:s,onError:n,onOpen:o,onResponse:c}){let a=await e.A(432003).then(e=>e.WebSocket),i=new a(t);function l(){i.removeEventListener("close",l),i.removeEventListener("message",u),i.removeEventListener("error",n),i.removeEventListener("open",o),s()}function u({data:e}){if("string"!=typeof e||0!==e.trim().length)try{let t=JSON.parse(e);c(t)}catch(e){n(e)}}i.addEventListener("close",l),i.addEventListener("message",u),i.addEventListener("error",n),i.addEventListener("open",o),i.readyState===a.CONNECTING&&await new Promise((e,t)=>{i&&(i.onopen=e,i.onerror=t)});let{close:d}=i;return Object.assign(i,{close(){d.bind(i)(),l()},ping(){try{if(i.readyState===i.CLOSED||i.readyState===i.CLOSING)throw new r.WebSocketRequestError({url:i.url,cause:new r.SocketClosedError({url:i.url})});i.send(JSON.stringify({jsonrpc:"2.0",id:null,method:"net_version",params:[]}))}catch(e){n(e)}},request({body:e}){if(i.readyState===i.CLOSED||i.readyState===i.CLOSING)throw new r.WebSocketRequestError({body:e,url:i.url,cause:new r.SocketClosedError({url:i.url})});return i.send(JSON.stringify(e))}})},keepAlive:n,reconnect:o,url:t})}async function l(e,{body:t,timeout:r=1e4}){return e.requestAsync({body:t,timeout:r})}async function u(e){let t=await i(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}e.s(["getWebSocketRpcClient",()=>i],828804),e.s(["getSocket",()=>u,"rpc",0,{http:(e,r)=>(0,t.getHttpRpcClient)(e).request(r),webSocket:function(e,{body:t,onError:r,onResponse:s}){return e.request({body:t,onError:r,onResponse:s}),e},webSocketAsync:l}],329096)},432003,e=>{e.v(t=>Promise.all(["static/chunks/ab57f4246cfab504.js"].map(t=>e.l(t))).then(()=>t(313037)))},224814,e=>{e.v(t=>Promise.all(["static/chunks/9cbabf9160566961.js","static/chunks/99b5cd6e6e52fc56.js"].map(t=>e.l(t))).then(()=>t(653806)))},474683,e=>{e.v(t=>Promise.all(["static/chunks/bdc1f6e120e2b14c.js"].map(t=>e.l(t))).then(()=>t(289329)))},381024,e=>{e.v(t=>Promise.all(["static/chunks/8b15498eb852e1a6.js","static/chunks/b6297ceb4b04307b.js"].map(t=>e.l(t))).then(()=>t(607627)))}]);